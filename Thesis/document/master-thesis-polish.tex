\documentclass[twoside,a4paper]{book}

\usepackage[pdftex]{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{textcomp}
\usepackage[utf8x]{inputenc}
\usepackage[polish]{babel}
\usepackage[T1]{fontenc}

% ustawiamy Arial jako czcionkę
\usepackage{uarial}
\renewcommand{\familydefault}{\sfdefault}

% mimo wartości w nawiasach jest to interlinia 1,5
\linespread{1.3}

\usepackage{array}
% pakiet stosowany do url'i w bibliografii, zamienia odnośniki na ładnie sformatowane
\usepackage[hyphens]{url}
% pakiety służące do numerowania i tworzenia algorytmów
\usepackage{algorithmic}
\usepackage{algorithm}
% redefinicja etykiety nagłówkowej listy algorytmów, domyślna jest po angielsku
\renewcommand{\listalgorithmname}{Spis algorytmów}

% pakiet do wyliczania skali, przydatny przy dużych obrazkach
\usepackage{pgf}
% pakiet służący do automatycznego sortowania odnośników do bibliografii
\usepackage[sort]{natbib}
% tworzenie listingów
\usepackage{listings}
% tworzenie figur wewnątrz figur
\usepackage{subfig}
% do automatycznego skracania nazw rozdziałów i podrozdziałów używanych w nagłówkach strony by mieściły się w jednej linii
\usepackage[fit]{truncate}
% fancyhdr - ładne nagłówki, definicja wyglądu nagłówka, numery stron będą umieszczane w nagłówku po odpowiedniej stronie
\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}
\fancyhf{}
\fancyhead[LE,RO]{\bfseries\thepage}
% tutaj ograniczamy szerokość pola w nagłówku zawierającego nazwę rozdziału/podrozdziału do 95% szerokości strony
% redefinicja sposobu prezentacji nazw domyślnie wypisywanych wielkimi literami (np. domyślnie w nagłówku Spis treści będzie miał postać SPIS TREŚCI)
% Uwaga! to może popsuć wielkie litery w ogóle! Jak coś nie działa należy usunąć \nouppercase{} z poniższych definicji
\fancyhead[LO]{\nouppercase{\bfseries{\truncate{.95\headwidth}{\rightmark}}}}
\fancyhead[RE]{\nouppercase{\bfseries{\truncate{.95\headwidth}{\leftmark}}}}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0pt}

% definicja typu prostego wymagana przez pierwsze strony rozdziałów itp.
% powyższe reguły niestety tych stron nie dotyczą, gdyż Latex automatycznie przełącza je pomiędzy fancy a plain
% w tym wypadku eliminujemy nagłówki i stopki na stronach początkowych
\fancypagestyle{plain}{%
 \fancyhead{}
 \fancyfoot{}
 \renewcommand{\headrulewidth}{0pt}
 \renewcommand{\footrulewidth}{0pt}
}

\parskip 0.05in


% makro umożliwiające otaczanie symboli okręgami
\usepackage{tikz}
% brak justowania tekstu (bazą okręgu będzie linia tekstu)
\newcommand*\mycirc[1]{%
  \begin{tikzpicture}
    \node[draw,circle,inner sep=1pt] {#1};
  \end{tikzpicture}}

% pionowe justowanie tekstu, środek okręgu pokrywa się ze środkiem tekstu
\newcommand*\mycircalign[1]{%
  \begin{tikzpicture}[baseline=(C.base)]
    \node[draw,circle,inner sep=1pt](C) {#1};
  \end{tikzpicture}}

% zmiana nazwy twierdzeń i lematów
\newtheorem{theorem}{Twierdzenie}[section]
\newtheorem{lemma}[theorem]{Lemat}

% tworzenie definicji dowodu
\newenvironment{proof}[1][Dowód]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}
% \newenvironment{definition}[1][Definicja]{\begin{trivlist}
% \item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}
% \newenvironment{example}[1][Przykład]{\begin{trivlist}
% \item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}
% \newenvironment{remark}[1][Uwaga]{\begin{trivlist}
% \item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}

% definicja czarnego prostokąta zwyczajowo dodawanego na koniec dowodu
\newcommand{\qed}{\nobreak \ifvmode \relax \else
      \ifdim\lastskip<1.5em \hskip-\lastskip
      \hskip1.5em plus0em minus0.5em \fi \nobreak
      \vrule height0.75em width0.5em depth0.25em\fi}

\newcommand{\itemtitle}[1]{\item[#1] \hfill \\}

% poniższymi instrukcjami można sterować co ma być numerowane a co nie i co ma być wyświetlane w spisie treści
% \setcounter{secnumdepth}{3}
% \setcounter{tocdepth}{5}

% definicja czcionki mniejszej niż tiny (domyślnie takiej małej nie ma)
\usepackage{lmodern}
\makeatletter
  \newcommand\tinyv{\@setfontsize\tinyv{4pt}{6}}
\makeatother

% definicja jeszcze mniejszej czcionki
\usepackage{lmodern}
\makeatletter
  \newcommand\tinyvv{\@setfontsize\tinyvv{3.5pt}{6}}
\makeatother

% pakiet do obsługi wielostronicowych tabel
\usepackage{longtable}
\setlength{\LTcapwidth}{\textwidth}

\usepackage[section] {placeins}

\usepackage{multirow}

\usepackage{slantsc}

% korekta marginesów - domyślnie latex ma jakieś kosmiczne
\usepackage{anysize}
\marginsize{3.5cm}{2.5cm}{2.5cm}{2.5cm}
% po zmianie marginesów konieczne jest wymuszenie przeliczenia nagłówków
\fancyhfoffset[E,O]{0pt}

\usepackage{pdfpages}
\usepackage{adjustbox}


\begin{document}

% wymagane początkowe strony
\includepdf{StronaTytulowa_119290.pdf}
\includepdf{Oswiadczenie_119290.pdf}

{\noindent \large \textbf{STRESZCZENIE}} \\
Celem tej pracy jest stworzenie zestawu bibliotek umożliwiającego programistom wygodne zdalne wywoływanie kodu w~systemie Android. Musi istnieć możliwość wołania tego kodu z~poziomu platformy .NET na innej maszynie.
Dodatkowo ma być zbadany i~zaimplementowany polimorfizm metod zdalnych.
Ma to umożliwić obiektowy model zdalnego wołania kodu.

Aby to osiągnąć autor bada aktualny stan technologii powiązanej z~RPC (\emph{Remote Procedure Call}).
Wśród istniejących rozwiązań szukane są takie, które albo realizują cele pracy, albo mogą stać sie składnikami implementacji rozwiązania.
Okazuje się, że żaden \emph{framework} nie umożliwia tworzenia serwera RPC na Androidzie.

Jako format RPC, który będzie serwowany z~Androida wybrane zostaje protokół JSON-RPC oparty o~format zapisu danych JSON.
Żadna otwarta biblioteka .NET nie posiada implementuje klienta JSON-RPC mimo tego, że implementują bardziej skomplikowaną część serwerową.
Dlatego powstaje prototypowa implementacja klienta JSON-RPC pod .NET. Pozwala ona na wygodne, obiektowe korzystanie z~metod zdalnych dzięki tworzeniu proxy implementujących interfejs serwisu.
Nie nadaje się jednak do zastosowań produkcyjnych ze względu na brak obsługi błędów warstwy komunikacyjnej.

Implementacja serwera RPC na Androida zostaje zrealizowana jako rozszerzenie otwartej biblioteki jsonrpc4j.
Rozszerzenie pozwala podzbiorowi funkcjonalności serwerowej jsonrpc4j działać na Androidzie.
Ponieważ modyfikacja nie wpływa negatywnie na bibliotekę, może być wprowadzona do oryginalnej biblioteki na stałe.

Zapewnienie polimorfizmu metod zdalnych polega na ujednoliceniu formatu zapisywanej informacji o~typach w~dwóch otwartych bibliotekach serializacyjnych -- Jackson (Java), wykorzystywanej przez jsonrpc4j i~JSON.NET (.NET) używanej przez prototyp klienta JSON-RPC powstały w~tej pracy.
Polimorfizm zostaje zapewniony dla parametrów nie będących kolekcjami, dzięki modyfikacji biblioteki JSON.NET, aby oznaczała typy tak samo jak Jackson.
Modyfikacja JSON.NET nie może być dodana do oryginalnej wersji biblioteki, ponieważ psuje jej niektóre funkcje.

\noindent\textbf{Słowa kluczowe:} \\
Android, RPC, RMI, serwer, \emph{web service}, polimorfizm.
\clearpage

{\noindent \large \textbf{ABSTRACT}} \\
The goal of this work is to create a~set of libraries that will enable convenient remote code execution in the Android system.
The code needs to be executable from .NET platform.
Additionally, the idea of polymorphic remote methods will be researched and implemented.
It shall enable an object-oriented model of remote method invocation.

To achieve this, the author checks the current state of art of RPC (Remote Procedure Call) related technologies.
Current solutions are searched for those that either fulfill the goals of this work or can become elements of the implementation.
It turns out that no framework allows creating RPC servers on Android.

RPC format chosen for the implementation is JSON-RPC, a~format based on JSON data serialization.
No open .NET library implements JSON-RPC client functionality, although they implement the more complicated server side.
This is why a~prototype JSON-RPC client is implemented by the author. It enables convenient, object-oriented usage of remote method by creating proxy objects that implement the service's interface.
The prototype is not production-ready, because it doesn't handle problems that may occur in the transport layer. 

Implementation of the RPC server for Android is done as an extension of the jsonrpc4j open-source library.
This extension enables a~subset of jsonrpc4j server functionality to work on Android.
Because the modification doesn't affect the rest of the functionality, it can be merged into the upstream version of the library.

Enabling remote method polymorphism is done through enforcement of common data type information format in two open-source serialization libraries -- Jackson (Java), used by jsonrpc4j, and JSON.NET (.NET), used by the JSON-RPC prototype created in this work.
Polymorphism is achieved for parameters that are not collections by modifying JSON.NET to code data information the same way as Jackson does.
This modification cannot be pushed to upstream because it breaks some functionality.

\noindent\textbf{Keywords:} \\
Android, RPC, RMI, server, web service, polymorphism.
\clearpage

% spis treści
\tableofcontents

\clearpage
{\noindent \large \textbf{WYKAZ WAŻNIEJSZYCH OZNACZEŃ I SKRÓTÓW}} \\
\begin{itemize}
  \item[JAX-WS --] Java API for XML Web Services
	\item[JVM --] Java Virtual Machine
	\item[RPC --] Remote Procedure Call
	\item[SDK --] Software Development Kit
	\item[SOA --] Service Oriented Architecture
	\item[WCF --] Windows Communication Foundation
	\item[WS --] Web Service / Web Services
	\item[XSD --] XML Schema Definition
\end{itemize}
\clearpage

% właściwa część książki, numerowana arabskimi od 1
\mainmatter

%ustawienie kolorowania składni w przykładowych kodach
%\lstset{language=Java}
%polska czcionka we fragmentach kodu, źródło: http://blog.stelmisoft.pl/2010/polskie-znaki-podczas-formatowania-kodu-zrodlowego-w-latexu/
\lstset{inputencoding=utf8x, extendedchars=\true,
    literate={ą}{{\k{a}}}1
             {Ą}{{\k{A}}}1
             {ę}{{\k{e}}}1
             {Ę}{{\k{E}}}1
             {ó}{{\'o}}1
             {Ó}{{\'O}}1
             {ś}{{\'s}}1
             {Ś}{{\'S}}1
             {ł}{{\l{}}}1
             {Ł}{{\L{}}}1
             {ż}{{\.z}}1
             {Ż}{{\.Z}}1
             {ź}{{\'z}}1
             {Ź}{{\'Z}}1
             {ć}{{\'c}}1
             {Ć}{{\'C}}1
             {ń}{{\'n}}1
             {Ń}{{\'N}}1
}

%przerób projekty tak, żeby nie miały ścieżek na moim kompie

%dodaj copyrighty do plików z kodem

\include{introduction}

\include{similar-technologies}

\include{system-project}

%include{implementation}

%\include{experiments}

\include{recapitulation}

\backmatter

% rodzaj bibliografii
\bibliographystyle{plain}
% plik z wpisami bibliograficznymi
\bibliography{bibliography}

% lista rysunków
\listoffigures
% lista tabel
\listoftables

\end{document}