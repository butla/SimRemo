\documentclass[twoside,a4paper]{book}

\usepackage[pdftex]{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{textcomp}
\usepackage[utf8]{inputenc}
\usepackage[polish]{babel}
\usepackage[T1]{fontenc}
\usepackage{array}
% pakiet stosowany do url'i w bibliografii, zamienia odnośniki na ładnie sformatowane
\usepackage{url}
% pakiety służące do numerowania i tworzenia algorytmów
\usepackage{algorithmic}
\usepackage{algorithm}
% redefinicja etykiety nagłówkowej listy algorytmów, domyślna jest po angielsku
\renewcommand{\listalgorithmname}{Spis algorytmów}

% pakiet do wyliczania skali, przydatny przy dużych obrazkach
\usepackage{pgf}
% pakiet służący do automatycznego sortowania odnośników do bibliografii
\usepackage[sort]{natbib}
% tworzenie listingów
\usepackage{listings}
% tworzenie figur wewnątrz figur
\usepackage{subfig}
% do automatycznego skracania nazw rozdziałów i podrozdziałów używanych w nagłówkach strony by mieściły się w jednej linii
\usepackage[fit]{truncate}
% fancyhdr - ładne nagłówki, definicja wyglądu nagłówka, numery stron będą umieszczane w nagłówku po odpowiedniej stronie
\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}
\fancyhf{}
\fancyhead[LE,RO]{\bfseries\thepage}
% tutaj ograniczamy szerokość pola w nagłówku zawierającego nazwę rozdziału/podrozdziału do 95% szerokości strony
% redefinicja sposobu prezentacji nazw domyślnie wypisywanych wielkimi literami (np. domyślnie w nagłówku Spis treści będzie miał postać SPIS TREŚCI)
% Uwaga! to może popsuć wielkie litery w ogóle! Jak coś nie działa należy usunąć \nouppercase{} z poniższych definicji
\fancyhead[LO]{\nouppercase{\bfseries{\truncate{.95\headwidth}{\rightmark}}}}
\fancyhead[RE]{\nouppercase{\bfseries{\truncate{.95\headwidth}{\leftmark}}}}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0pt}

% definicja typu prostego wymagana przez pierwsze strony rozdziałów itp.
% powyższe reguły niestety tych stron nie dotyczą, gdyż Latex automatycznie przełącza je pomiędzy fancy a plain
% w tym wypadku eliminujemy nagłówki i stopki na stronach początkowych
\fancypagestyle{plain}{%
 \fancyhead{}
 \fancyfoot{}
 \renewcommand{\headrulewidth}{0pt}
 \renewcommand{\footrulewidth}{0pt}
}

\parskip 0.05in


% makro umożliwiające otaczanie symboli okręgami
\usepackage{tikz}
% brak justowania tekstu (bazą okręgu będzie linia tekstu)
\newcommand*\mycirc[1]{%
  \begin{tikzpicture}
    \node[draw,circle,inner sep=1pt] {#1};
  \end{tikzpicture}}

% pionowe justowanie tekstu, środek okręgu pokrywa się ze środkiem tekstu
\newcommand*\mycircalign[1]{%
  \begin{tikzpicture}[baseline=(C.base)]
    \node[draw,circle,inner sep=1pt](C) {#1};
  \end{tikzpicture}}

% zmiana nazwy twierdzeń i lematów
\newtheorem{theorem}{Twierdzenie}[section]
\newtheorem{lemma}[theorem]{Lemat}

% tworzenie definicji dowodu
\newenvironment{proof}[1][Dowód]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}
% \newenvironment{definition}[1][Definicja]{\begin{trivlist}
% \item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}
% \newenvironment{example}[1][Przykład]{\begin{trivlist}
% \item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}
% \newenvironment{remark}[1][Uwaga]{\begin{trivlist}
% \item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}

% definicja czarnego prostokąta zwyczajowo dodawanego na koniec dowodu
\newcommand{\qed}{\nobreak \ifvmode \relax \else
      \ifdim\lastskip<1.5em \hskip-\lastskip
      \hskip1.5em plus0em minus0.5em \fi \nobreak
      \vrule height0.75em width0.5em depth0.25em\fi}

% poniższymi instrukcjami można sterować co ma być numerowane a co nie i co ma być wyświetlane w spisie treści
% \setcounter{secnumdepth}{3}
% \setcounter{tocdepth}{5}

% definicja czcionki mniejszej niż tiny (domyślnie takiej małej nie ma)
\usepackage{lmodern}
\makeatletter
  \newcommand\tinyv{\@setfontsize\tinyv{4pt}{6}}
\makeatother

% definicja jeszcze mniejszej czcionki
\usepackage{lmodern}
\makeatletter
  \newcommand\tinyvv{\@setfontsize\tinyvv{3.5pt}{6}}
\makeatother

% pakiet do obsługi wielostronicowych tabel
\usepackage{longtable}
\setlength{\LTcapwidth}{\textwidth}

\usepackage[section] {placeins}

\usepackage{multirow}

\usepackage{slantsc}

% nazwa pliku ze stroną tytułową
% \include{phd_titlepage}
\include{mgr_titlepage}

% parametry strony tytułowej, zdefiniowane są w plikach z poszczególnymi stronami
% tytuł pracy
\title{Zdalne wywoływanie metod języka Java w systemie Android z platformy .NET}
% autor
\author{Michał Bultrowicz}
% rok wydania
\date{2014}
% miasto, gdzie napisano pracę
\miasto{Gdańsk}
% promotor
%\promotor{dr inż.\ Jacek Lebiedź}
% wydział promotora, tylko dla phd_titlepage
% \promotordpt{Wydział Elektroniki, Telekomunikacji i~Informatyki}
% uczelnia promotora, tylko dla phd_titlepage
% \promotoruniv{Politechnika Gdańska}

% rodzaj studiów, tylko dla mgr_titlepage
\studies{Stacjonarne drugiego stopnia}
% opis pracy, tylko dla mgr_titlepage
\descr{Przegląd i~analiza istniejących rozwiązań problemu zdalnego wywoływania kodu w~heterogenicznych środowiskach. Stworzenie własnego obiektowego rozwiązania w~postaci bibliotek i~ewentualnych narzędzi pobocznych. Podstawowy model użycia obejmuje wywoływanie kodu na~Androidzie przez~program działający w~.NET. Nacisk jest kładziony na łatwość użycia powstałego oprogramowania w~nowych i~istniejących projektach.}
% nr indeksu, tylko dla mgr_titlepage
\indeks{119290}
% katedra, tylko dla mgr_titlepage
\dept{Inteligentnych Systemów Interaktywnych}
% specjalność
\speciality{Inteligentne Systemy Interaktywne}

% korekta marginesów - domyślnie latex ma jakieś kosmiczne
\usepackage{anysize}
\marginsize{3.5cm}{2.5cm}{2.5cm}{2.5cm}
% po zmianie marginesów konieczne jest wymuszenie przeliczenia nagłówków
\fancyhfoffset[E,O]{0pt}

\begin{document}
% sekcja wstępna książki, numerowana rzymskimi
\frontmatter
% generacja strony tytułowej załączonej wcześniej
\maketitle

% spis treści
\tableofcontents

% właściwa część książki, numerowana arabskimi od 1
\mainmatter

%\chapter{Wstęp testowy}
%\section{Idea dokumentu}
%
%Dokument ten ma w~założeniu pomóc w pisaniu pracy magisterskiej/rozprawy doktorskiej w narzędziu jakim jest Latex. Zdecydowanie polecam jego używanie, gdyż znacznie upraszcza formatowanie i~skład tekstu, wykonując bardzo dużo pracy za autora. W dalszej części tego dokumentu na przykładach przedstawię kilka technik jak zrealizować rzeczy, na jakie natknąłem się w~trakcie pisania mojej pracy magisterskiej oraz rozprawy doktorskiej.
%
%Dokument ten nie ma na celu dostarczenie kompletnej dokumentacji Latex'a, czy też zaznajomić z nim osoby nie mającego żadnej wiedzy na jego temat. Nie jest to samouczek (takich jest cała masa w sieci, np.~\cite{wikibooks}, polecam też zapoznanie się z dokumentacją pakietów, jakie zostały użyte w tym dokumencie), ale raczej zbiór ciekawych konstrukcji, jakie znalazłem w~trakcie pisania swojej pracy magisterskiej i rozprawy doktorskiej. Jednakże tam gdzie uznam to za stosowne będę podawał rzeczy również oczywiste, by osoby nie mające wcześniej kontaktu z Latex'em mogły, na bazie tego opracowania, rozpocząć pracę nad swoim dokumentem. Domyślnie przygotowany jest dla dwustronnego wydruku w stylu książki. Wydruk jednostronny wymaga zmiany definicji klasy z \textbf{twoside} na \textbf{oneside} i poprawienia definicji nagłówków i stopek (linie 35 -- 56 preambuły dokumentu). Polecam również zaglądać do kodu dokumentu. Sam dokument bardziej pokazywać będzie efekt końcowy, jaki można uzyskać. Samą treść najłatwiej podejrzeć już w pliku źródłowym.
%
%Do pisania samego tekstu użyć można dowolnego edytora tekstu, pozwalającego na tworzenie zwykłych plików tekstowych. Polecam jednak jakieś zintegrowane środowisko umożliwiające szybką kompilację i~podgląd wynikowego dokumentu. Osobiście używam narzędzia o nazwie \textbf{Kile} dostępnego praktycznie w każdej dystrybucji systemu Linux.
%
%Zalecam przyjrzenie się również nagłówkowi dokumentu -- zawiera on importy różnych przydatnych pakietów dodatkowych wraz z~opisem. Większość z nich będzie opisana lub wykorzystana w tym dokumencie.
%
%Gorąco zachęcam do korzystania z Latex'a. Przy odrobinie wprawy jest to narzędzie wysoce wygodne i~wydajne, umożliwiające zdecydowanie prostsze tworzenie złożonych dokumentów niż dowolny WYSYWIG\@.
%
%\section{Strony tytułowe}
%
%Do dokumentu dołączyłem strony tytułowe podobne do oficjalnych formatek pracy magisterskiej (mgr\_titlepage.tex) oraz rozprawy doktorskiej(phd\_titlepage.tex). Pierwsza z nich, będąca bazą dla drugiej, opracowana została przez mgra inż.\ Michała Wójcika\footnote{\url{http://mwojcik.eti.pg.gda.pl}}.
%
%\section{Poprawność dokumentu}
%
%Przed drukiem warto zawsze sprawdzić swój dokument pod względem formalnej poprawności. Służy do tego narzędzie \textbf{lacheck}. Na stronach Katedry Architektury Systemów Komputerowych znajduje się interfejs WWW do tego narzędzia napisany przez mgra inż.\ Rafała Knopę. Narzędzie to jest dostępne pod adresem \url{http://kask.eti.pg.gda.pl/lacheck/}.
%
%\section{Uwagi i poprawki}
%
%Zachęcam wszystkich do modyfikacji, poprawiania i rozbudowy niniejszego dokumentu. Z Waszą pomocą z biegiem czasu dokument ten ma szansę stać się kompletnym przewodnikiem do Latexa pomocnym w trakcie pisania pracy magisterskiej czy doktorskiej. Wszelkie zmiany przesłane do mnie opublikuję na stronie katedralnej, oczywiście z zaznaczeniem współautorów.

\chapter{Wprowadzenie}

Niniejsza praca powstała jest próbą rozwiązania problemu napotkanego w pracy zawodowej autora. W trakcie rozwijania istniejącego rozproszonego systemu napisanego pod Windows wyszło na to, że trzeba będzie go rozszerzyć o wsparcie dla Linuxa i Androida. System ten mocno polegał na .NETowych usługach sieciowych (WCF). \emph{Wszystkie technologie zostaną wyjaśnione później.} Bez wielkich zmian w istniejących komponentach trzeba było dokleić support dla innych platform z innym językiem. Stare klasy musiały działać tak samo, najlepiej, jakby były użyteczne na nowym urządzeniu. Też byłoby najlepiej, gdyby nowe klasy można było tworzyć bez problemu no i mieszać wszystko zgodnie z zasadami obiektowości (dodajemy rozszerzenie klasy to metody dla starej działają tak samo). I w dużym Linuxie i na Androidzie trzeba było to zrobić inaczej. I w Javie wszystko trzeba było generować, co i tak nie do końca współgrało z WCF problemy. Dodawanie nowego standardu mającego połączyć albo być lepszym niż istniejące standardy nie jest dobrą rzeczą \emph{(jakieś źródło)}. Nawet jak działało, to nie było do końca dobre, trzeba było z góry wiedzieć jakie klasy mają się znaleźć \emph{(dokumentacja javy i WCF jako źródło)}. I tak w ogóle, to praca zawodowa miało trochę wpływu, na to moje pisanie, bo trochę się nauczyłem (TDD, Spike'owanie).

Zrobiłem wcześniejszy system, który udawał microsoftowy serializator, ale nie jest to rozwiązanie do końca dobre, ponieważ nie ma udostępnionej specyfykacji (nie można wiedzieć, że zawsze będzie dobry) i kod zaczynał się robić pogmatwany, nieczytelny (bo powstawał inkrementacyjnie w momentach, kiedy okazywało się, że coś nie działa). Nie było tam za bardzo zarządzania połączeniami i innych cech dojrzałego systemu - tylko prosta map obietków i przesyłanie zserializowanych poleceń. Dlatego postanowiłem, że dobrze zrobić nowy system. Skoro i tak nie było to zgodne ze standardnem (własne łączenie, przesyłanie z serializowanych rzeczy), to nie jest dużym problemem wymienienie kawałka po stronie .NET (serializatora) i zrobienie tego tak, żeby było też ``wygodnie'' po stronie Javy. Czyli po prostu mieć kod po obu stronach, który wygląda (choć w innym języku) i zachowuje się tak samo. Poza tym brakuje takich rozwiązań, których można użyć we własnym projekcie bez używania jakiś standardowych i ciężkich rozwiązań. Poza tym, te rozwiązania i tak nie są zgodne i wspierają różne częśći standardu \emph{(Jakiś źródło)}.

Docelowe rozwiązanie powinno być biblioteką na wiele języków. Skoro łączymy dwie różne technologie, z których jedna jest dość mobilna, czyli ograniczona, to może można zrobić coś dość uniwersalnego wspierającego wiele systemów. Powinno też być dojrzałe i od razu zawierać elementy zarządzania połączeniami, sesjami itp.,~chociaż skupienie leży na połączeniu 1 do 1, bo tak to bardzo często wygląda w prostym systemie, gdzie po prostu chcemy mieć most pomiędzy częściami aplikacji. Moje rozwiązanie trochę uogólniona i będzie mogła znaleźć (mam nadzieje) szerokie zastosowanie. Chciałem coś zrobić i było mi smutno, że na Androidzie nie mogłem sobie gladko wszystkiego łączyć, że trzeba było generować konkretne klasy, że nie mogło być dynamicznie

Aktualnie zakładam, że będę robił system oparty o JSON z oznaczaniem typów. Referencyjna implementacja w Pythonie, poza tym Java (Androidowa) i C\#. Każda wersja językowa zawiera zarówno klienta jak i serwer. W trakcie pracy przeprowadzę jeszcze trochę badań i eksperymentów co dostarczy ostatecznego uzasadnienia takiego rozwiązania, lub sprawi, że wybiorę inne rozwiązanie. Że dopiero zobaczę jak działają te frameworki. Może wpadnę na nowe, bardziej adekwatne rozwiązanie. Wyjaśnić jak wytaczałem sobie drogę działania i jak metodyki dobierałem, jak zmieniało się to w trakcie pracy. Zmieniało się też zanim zacząłem pisać ten dokument.

We wstępie napisać, że głównie chodzi mi o to, żeby argumenty do metod były polimorficznei żeby nie trzeba było znać z góry typów, które mogą przejść (ogólnie jak przy normalnej obiektowości). W trakcie pracy sprawdzę, czy inne frameworki potrafią to robić bez jakiś strasznych tricków (out of the box, żeby programista się nie męczył). Jeśli potrafią, to jak wygodnie się z tego korzysta.

Jest trudniejsza niż inne prace, bo jest bardziej niezależna i dziedzina problemu jest szersza. Rzucony na otwartą wodę musiałem sobie radzić i tak może powstanie coś, czego jeszcze na świecie nie ma (albo nie jest tak przyjemne w użyciu).

Napisać o tym, że język w mojej pracy może nie być do końca formalny. Mogę wtedy przekazywać informacje tak samo dobrze albo nawet lepiej (bo mogę być bardziej obrazowy, a nie muszę być od razu nieprecyzyjny) a zarówno pisanie jak i czytanie pracy będzie przyjemniejsze. Nauka powinna być frajdą. Coś przytoczyć może z tego headfirsta albo ich źródeł? W anglojęzycznej literaturze, która jest w sumie światowym standardem naukowym (jakiś cytat znaleźć) często tworzą jakieś nieformalne konstrukcje (sandwiche, cargo cult programming)

\emph{(Twarde spacje gdzie trzeba, żeby nie było sierot)}

\emph{(Dodać spis pojęć)}

\emph{(Rozdziały albo mniejsze sekcje w osobnych plikach, które będą includowane.)}

\begin{em}
Do każdego punktu co i dlaczego znaleźć jakiś artykuł

Wyślij kiedyś szablon strony tytułowej.
Wywalić Jacka jako konsultanta. Załatwić sobie kogoś od web service’ów z KASKU jako konsultanta/recenzenta. Zmienić tytuł pracy na jakiś uniwersalny obiektowy cross-platform system. O Androidzie i .NETcie napisać w wymaganiach.
\end{em}

\section{Cel pracy}
Dokładnie określić po co ta praca. W czym ma się przydać, po co ją robić? Jakie ma wymagania?
Powiedzieć, że tematyka będzie wyjaśniona za jakiś czas.

CELE: pełne wsparcie programowania obiektowego, prostota i szybkość użycia, łączenie różnych technologii
Głównym celem pracy jest stworzenie rozwiązania (biblioteki), które pozwoli na zdalne wywoływanie kodu w systemie Android z platformy .NET przy pomocy języka C\#. Można powiedzieć, że jest to zarządzanie Androidem z Windowsa (bo .NET najprawdopodobniej chodzi właśnie na nim).

Druga rzecz, którą chcę uzyskać to możliwość łatwego tworzenia programów współpracujących między wyżej wymienionymi platformami. Kiedy wywołujemy zdalny kod często trzeba przekazać mu jakieś parametry, często też chcemy otrzymać wartości zwrotne. Pomijając sam fakt transportu danych z jednej platformy na drugą stajemy przed problemem niezgodności typów danych. Wiemy, że na obu końcach będą użyte dwa różne języki, więc struktury danych nie będą kompatybilne. Trzeba temu zaradzić.
Ogólnie ujęte rozwiązanie dla powyższych problemów to serwer usług internetowych (ang. web services) wraz z narzędziami. Dzięki mechanizmowi usług sieciowych można wykonać dowolny kod na serwerze nie zależnie od technologii wykorzystywanych po obu stronach. Nie istnieje jeszcze (przynajmniej nie udało się znaleźć) serwer web service’ów dla Androida. Istnieją za to biblioteki pozwalające na przetłumaczenie klas z C\# na Javę.

W reszcie rozdziału jest wytłumaczone dokładniej jak działają wspomniane tutaj mechanizmy oraz jak zostanie stworzony mój serwer.

Wiele środowisk chcemy wspierać, np. Windows Phone też

\section{Docelowe platformy}
Tu o tych, co będą wymaganie. O specyfice .NETa i Androida, co i jak można na tym pisać (jakie języki)

\subsection{Android}
Tu o Androidzie, o JVM o samym języku Java. Jego środowisko programistyczne.

Wizja systemu Android. Że to na telefony. Co w tej Javie jest, dlaczego tak jest, czego nie ma (właśnie tych bibliotek). Dalvik. Co jest w C (bionic)? Nowa maszyna (\url{http://www.dobreprogramy.pl/Google-testuje-nastepce-Dalvika-z-ARTem-Android-bedzie-dwukrotnie-szybszy,News,49129.html}) wirtualna na Androida.
Jak działa Java? Maszyna wirtualna, baza w C, teoretycznie ten sam kod powinien działać wszędzie, należy jednak dobrze zaimplementować podstawę wszystkich bibliotek (czyli maszynę). A czasem są np. rozbieżności (drobne) pomiędzy windowsem a Linuxem.

Jak Androidowa Java współpracuje z innymi środowiskami.

\subsection{.NET}
Tu o .NETcie i o C\# (bo tego będę używał).
Jak .NET współpracuje z innymi środowiskami

\subsection{Python}
W sumie chodzi na wszystkim. I na windowsie, linuxie i androidzie. Lubię też w nim pisać. Można go sportować.

Wzmianka, że podstawowa implementacja pythona, której będę używał (albo i nie) nie korzysta z wielu procesorów.

\section{Zdalne wywoływanie kodu}
Tu o RPC, o problemach, o tłumaczeniu danych, istniejących standardach itp.

Czym jest programowanie obiektowe napisać, co to polimorfizm i dlaczego ważny

\subsection{Tłumaczenie danych}
Jaka jest problematyka przetłumaczenia danych/obiektów z jednego języka, platformy na drugą?
Nawet na niskim poziomie mamy little/big endian. Potem dochodzi jeszcze niezgodność kodów bajtowych platform wirtualnych.
Nawet jak się zapisze w XML, JSONie czy czymś innym to możemy stosować inne formaty, czy coś. Bindingi.

problemy komunikacji w heterogenicznych środowiskach (inne formaty danych, inne dostępne klasy i zasady działania obiektów, np. Type erasure)

Zgodność zapisu bajtowego obiektów w .NETcie, Javie i Dalviku (może inna niż w normalnej Javie, może pomiędzy maszynami wirtualnymi też różna). Gdyby wszystko było zgodne to nie trzeba by się było tak męczyć z szukaniem standardu opisu danych. Też type erasure wchodzi w grę (zapis bajtowy dwóch list różnych typów sprawdzić)

\url{http://json-schema.org/}\\
\url{http://bsonspec.org/}\\
\url{http://json.codeplex.com/}\\

\emph{JAKAŚ KSIĄŻKA O TYM?}

\subsubsection{Serializacja}

\subsection{Transport danych}
Też bardzo szeroka dziedzina. Jak już się przetłumaczy, to zawsze trzeba jakoś przetransportować. Jak możemy przekazywać w ramach jednego kompa, jak pomiędzy kompami lokalnie, jak globalnie.
Celuję w globalnie, ale zwsze szerszą metodę można zastosować wężej (chociaż może nie być tak wydajna jak te węższe)

\emph{TEŻ PRZYDAŁBY SIĘ JAKIŚ ARTYKUŁ CHOCIAŻ}

\emph{TCP, PIPEy, SSL, HTTP, HTTPS, Webservicey, SOAP, REST, JSON}

\url{http://stackoverflow.com/questions/12450404/json-pojo-consumer-of-polymorphic-objects}

\subsection{RPC}
Ogólnie trochę o RPC. Że wiele technologii to RPC (Web service'y, CORBA), że to zawiera i tłumaczenie i transport.
Wywoływaniu kodu w innym procesie lub na innym kompie.

\url{http://www.infoq.com/articles/rest-soap-when-to-use-each}\\

\url{http://xmlrpc.scripting.com/default.html XML RPC}\\
\url{http://xmlrpc.scripting.com/spec.html}\\
\url{http://effbot.org/zone/xmlrpc-errata.htm}\\
Przejrzeć specyfikację, zobaczyć, z czym musieli sobie poradzić i wyczaić jak to wszystko mozna odwzorować w JSONie. Obczaić, jak sobie DataContractSerializer (też DataContractJsonSerializer) radzą. 

Service oriented architecture a remote procedure call? Jakie różnice? Czym będzie moje? A same web services?

\subsection{XML binding}
NA TYM BĘDZIE DZIAŁAŁO TŁUMACZENIE KLAS
W WSDL poza opisami operacji realizowanych przez usługę znajdują się też pliki XSD opisujące wszystkie struktury danych (klasy), które będą wymieniane. Dla tego posiadając WSDL usługi możemy wygenerować wszystkie klasy potrzebne do stworzenia klienta usługi.

Złożony problem pojawia się wtedy, kiedy servicy mają działać w obie strony wykorzystując te same klasy danych. W bardziej skomplikowanych systemach rozproszonych może się pojawiać taka sytuacja. Załóżmy istnienie dwóch aplikacji: A i B. Są one napisane w różnych językach. Każda z nich udostępnia usługę zwracającą obiekt danych X. A korzysta z usługi wystawianej przez B, a B korzysta z usługi wystawianej przez A. Mimo tego, że obiekt X w obu aplikacjach będzie zawierał te same dane, to jednak jego kod będzie inny. Dlatego nie można mówić o jednej klasie X, a o dwóch. Nazwijmy je XA i XB. TUTAJ DALEJ WYTŁUMACZENIE PRZYKŁADU AŻ W KOŃCU DOJDZIEMY DO TEGO, ŻE TRZEBA NAPISAĆ KLASĘ W JEDNYM JĘZYKU, POTEM ZROBIĆ JEJ BINDING DO XSD I Z XSD DO DRUGIEGO JĘZYKA. 

\subsection{Web service'y i SOAP}
W sumie to przykład tłumaczenia danych  i transpotru.

Jeden ze sposobów na zdalne wywoływanie kodu to usługi internetowe. Korzystając z otwartych standardów takich jak XML, SOAP, WSDL i UDDI umożliwiają integrację aplikacji poprzez Internet. XML jest używany do etykietowania danych, SOAP do ich pakowania i transferu (alternatywnie można używać też RESTa lub JSONa), WSDL opisuje interfejs usługi, a UDDI dostarcza spisu dostępnych usług (on nie leży w naszym obszarze zainteresowań). SOAP i WSDL są zapisywane przy pomocy XML. Web servicy używane są najczęściej do komunikacji aplikacji komercyjnych (np. serwery, portale) ze sobą lub z klientami. Pozwalają organizacjom na wymianę danych nie wymagając wiedzy o wewnętrznej strukturze informatycznej za firewallem.

W przeciwieństwie do tradycyjnych modeli przetwarzania typu klient – serwer, takich jak np. system stron internetowych, usługi internetowe nie mają graficznego interfejsu użytkownika. Służą one do dzielenia logiki biznesowej, danych i procesów poprzez sieć, przy pomocy jednolitego interfejsu programistycznego. To aplikacje się komunikują, nie użytkownicy. Programiści mogą, co prawda, dodać usługę internetową do aplikacji, która posiada GUI (np. aplikacja okienkowa lub strona internetowa) aby zaoferować zwykłym użytkownikom jej funkcjonalność.

Usługi internetowe pozwalają różnym aplikacjom wykonanych w różnych technologiach (np. całkowicie odmienne języki programowania) na porozumiewanie się ze sobą bez potrzeby czasochłonnego tworzenia kodu tłumaczącego. Nie ma też znaczenia to, czy obie aplikacje znajdują się na jednej maszynie, czy po drugiej stronie świata.
Usługi sieciowe na platformie .NET realizowane są w ramach WCF. Javie obecnym standardem jest JAX-WS.

co to webservicy i po co są?\\
do czego mogą się przydać na androidzie?\\
dlaczego ich nie ma? Chyba stwierdzili, że ogólne web servicey są za ciężkie i za bardzo obciążają (Windows phone też nie ma WCF)\\

\subsection{REST}
Cośtam o RESTcie \url{http://www.oracle.com/technetwork/articles/javase/index-137171.html}\\
REST and POX \url{http://msdn.microsoft.com/en-us/library/vstudio/aa395208(v=vs.90).aspx}\\

Restful web services vs ``big'' web services: \url{http://www2008.org/papers/pdf/p805-pautassoA.pdf}\\

\chapter{Poszukiwanie rozwiązania}
Jak w ogóle dojść do tego  co i jak zrobić, żeby dało nam to, co mamy w celach? Jak się odnaleźć w tym wszystkim?

Jak teoretycznie możnaby zrobić web service'y na Androidzie? Android jest tutaj przykładem ograniczonego systemu.
W sumie jakiś powód musięli mieć, żeby ich nie zamieszać. Jakie jeszcze dodatkowe usprawnienia byłyby do zrobienia (tłumaczenie klas)?

Najpierw zobaczmy, co jest.

Napisać, co jest potrzebne dla remotingu: jakaś tożsamość, adres obiektu, oznaczenia metod, argumentów.

\section{Pokrewne rozwiązania}
Tu o bibliotekach, frameworkach robiących to co chcemy albo rzeczy podobne.

Konkretne porównania osiągów w rozdziale o eksperymentach (chociaż tutaj już zrobić porównanie wysiłku programisty, po prostu zamieścić je na końcu). Tutaj napisać o funkcjonalności żeby w ogóle wiedzieć, czy to czegoś warte i na ile mam się inspirować. Poza tym, może się okazać że jest już coś, co robi to, ca ja bym chciał zrobić.

Te wszystkie do serializacji i soapów rzeczy to są, tutaj nic nie ma. Wszystko co by się chciało to jest, ale na dużą Javę, albo na pythona (ciężko przeportować, nie wiadomo, czy da się na pewno) Apache Thrift, Google Protocol Buffers, ZeroMQ (http://stackoverflow.com/questions/8062212/difference-between-apache-thrift-and-zeromq)

Przy każdej technologii pokazać implementacje w WCF i Javie normalnej (bo ona będzie takim punktem odniesienia) i zrobić porównania prędkości, bezpieczeństwa itp.

Każdy framework opisać ile plików, jaką objętość trzeba ściągnąć. Ile kroków instalacji, ile rzeczy trzeba zrobić, żeby wystawić jakiś helloWorld serwis i jakiś serwis z własnymi danymi. Zrobić zestawienie frameworków (tabelę), czy pozwalają na wystawianie serwisów, czy tylko korzystanie. Czy pozwalają na polimorficzne argumenty.

GSOAP

\url{http://www.webopedia.com/TERM/W/Web_Services.html}\\
\url{http://thrift.apache.org/static/files/thrift-20070401.pdf}\\
reliable sessions (w sumie też by mi się przydał jakiś mechanizm, który umożliwi komunikację w niestabilnym środowisku Internetu)\\
\url{http://blogs.msdn.com/b/shycohen/archive/2006/02/20/535717.aspx}\\
\url{http://docs.xamarin.com/guides/cross-platform/application_fundamentals/web_services}\\
\url{http://wsme.readthedocs.org/en/latest/}\\

Apache Thrift, Google Protocol Buffers, ZeroMQ (\url{http://stackoverflow.com/questions/8062212/difference-between-apache-thrift-and-zeromq})\\
\url{http://thrift.apache.org/static/files/thrift-20070401.pdf}\\
\url{http://blogs.msdn.com/b/shycohen/archive/2006/02/20/535717.aspx}\\
Xamarin\\
\url{http://docs.xamarin.com/guides/cross-platform/application_fundamentals/web_services/}\\

JiBX!!! Tworzenie klas ze schemy i robienie wsdl z javy\\
Wsdl2Java: tworzenie klas z wsdl, głównie chodzi o klasy danych\\

Serializacja:\\
\url{http://simple.sourceforge.net/}\\
\url{http://code.google.com/p/dbdroid-remoting/} - klient web serviców serializujący i deserializujący xmle\\
Generacja javovego kodu z bindingu:\\
XSD2Java – generuje kod java z xsd. Mocno niedorobione.\\
Inne:\\
\url{http://stackoverflow.com/questions/6920175/how-to-generate-java-classes-from-wsdl-file}\\
\url{http://blog.tourgeek.com/2011/12/xml-data-binding-for-java-on-android.html}\\
PODOBNE, ALE NIE PRZYDATNE:\\

\url{http://forum.springsource.org/showthread.php?129058-Spring-Remoting-for-Android}\\
\url{http://www.themidnightcoders.com/fileadmin/docs/java/v4/index.html?android}\\
\url{http://developer.android.com/guide/components/aidl.html} - AIDL, androidowa komunikacja między procesami\\


\subsection{WCF}
\url{http://msdn.microsoft.com/en-us/library/system.runtime.serialization.json.datacontractjsonserializer.aspx}\\

\subsection{JAX-WS}
Niestandardowe podejście z użyciem JSONa zamiast XMLa\url{http://jax-ws-commons.java.net/json/}\\

\subsection{Jackson}
\url{http://www.cowtowncoder.com/blog/archives/2010/03/entry_372.html}\\
\url{http://stackoverflow.com/questions/8368873/deserialize-json-string-generated-from-net-using-jackson}
\url{http://stackoverflow.com/questions/10329706/json-deserialization-into-another-class-hierarchy-using-jackson}
\url{http://stackoverflow.com/questions/14454028/polymorphic-serialization-of-collections-with-custom-serializer-in-jackson}
\url{http://stackoverflow.com/questions/12350571/how-can-i-change-global-type-information-format-in-jackson}

sprawdzić jak się wymienia ze wszystkim opisanym adnotacjami (dodać jeszcze rozszerzenie defaulttyperesolvera), wtedy sprawdzić mixed iny; lista objectów, na którą wpakuję stringi i inty

\subsection{Restlet}
\url{http://restlet.org/learn/tutorial/2.1/#/docs_2.0/13-restlet/275-restlet/266-restlet.html}\\
\url{http://wiki.fasterxml.com/JacksonHowToIgnoreUnknown}\\

\subsection{Spring}
\subsection{Crest}
\subsection{Ksoap}

\subsection{I-jetty}
Jest to serwer, może ma jakiś kontener Web-serviceów?

\subsection{Porównanie możliwości tych technologii}


\section{Moje pomysły na rozwiązanie}
Wymienić, zrobić POCe, porównać, wybrać i uzasadnić wybór. Wypracować jaką metodę odcięcia pracy na POCem? Że jak będę widział, że da się coś zrobić, ale jest to za trudne to kończyć pracę.

Namespace'y są ważną rzeczą w SOAPie. Ja twierdzę, że nie są potrzebne w tak rozbudowanej formie. Może być jedno standardowe nazewnictwo z kropkami. Zakładam taki jakby jeden globalny namespace na oba runtime'y (klient i serwer). Fakt, że nawet jedna strona może mieć kilka przestrzeni nazw (parę class loaderów albo assembly cache'y) ale nie chcę tego robić z uwagi n utrudnienia w integracji (tu można napisać jakby to mogło wyglądać, ale nie trzeba, mogę po prostu to olać).

Napisanie wszystkiego w C, Javie albo nawet Pythonie. Z czym by się to wiązało. Chcemy żeby było łatwo, co by trzeba było zrobić wtedy?
Podłączanie się pod istniejące rozwiązania Axis w C, portowanie Pythona, tłumaczenie JibXem

Zdecydowałem się to zrobić web servicami opartymi o SOAP, blabla, jednolite dla javy tej i normalnej
Tu już konkretnie jakie biblioteki, jak konkretniej to będzie wyglądać

a)	Rozpoznanie istniejących rozwiązań dotyczących wiązania danych (ang. data binding) z XML oraz wystawiania usług sieciowych (ang. web services) w językach Java oraz C++.
Zaprojektowanie i wykonanie biblioteki pozwalającej na przyjmowanie, przetwarzanie, tworzenie i wysyłanie wiadomości SOAP, generowanie plików WSDL na bazie kodu oraz na wiązanie danych z języka C\# do języka Java z zakresem bibliotek dostępnym na Androidzie. Akceptowalne jest również stworzenie biblioteki, w której komunikacja oparta zostałaby o protokół TCP/IP i serializację obiektów do XML tak, by były rozumiane zarówno przez kod w języku Java, jak i w języku C\#.

Użyć w Pythonie Flaska do tłumaczenia JSONa? Albo jakiegoś innego tłumacza python-JSON.

Jak jest? \\
JAVA dla przykładu \\
Co trzeba robić w javie			Co trzeba robić w C\# \\
ANDROID \\
Co trzeba zrobić na androidzie		Co trzeba robić w C\# \\

Jak może być? \\
Co robimy, żeby tak było? \\
Co trzeba wtedy robić na androidzie	Co w C\# \\

Może zamiast tylu podsekcji najpierw wyliczenie, krótki opis i decyzja, czy należy się tym zajmować? Dopiero te, które wydawałyby się bardziej interesujące dostają swoją własną podsekcję.

\subsection{własna metoda oparta o JSON z oznaczaniem typów}
Póki co wiem, że będzie JSON z opisanymi typami. Kanał komunikacyjny powinien być dowolny. 

Może zamiast równoważnych implementacji na pythona, C\# i javę zrobić tylko pythona i wrappery w jythonie i iron pythonie?

\subsection{serwer web serviców z narzędziami do generacji kodu itp}
Generator wsdl na Androida + tworzenie bindingów do xsd + Parsowanie SOAPów

JiBX!!! Tworzenie klas ze schemy i robienie wsdl z javy
Wsdl2Java: tworzenie klas z wsdl, głównie chodzi o klasy danych

Weryfikacja: tworzę graf w xmlu. Są obiekty, które mogą mieć dzieci (tablice, listy). Próbuję wygenerować C\# dla porównania. Zapisuję grafy, które nie działają (w trakcie automatycznych testów). Zrobić wizualizator grafów.

Co by trzeba było po kolei zrobić w normalnej javie? (tłumaczenia do xsd, ujednolicanie namespaców, mamy do czynienia z jakimiś ArrayOfString, dziedziczenie chyba słabo działa przy generacji, nie da się używać DataContractSerializera żeby nie serializować części klas ogólnie syf, ale wszystko udokumentować). 

\subsection{Własny serwer REST}
Tu dyskusja o implementacji serwera RESTowego na Androidzie \url{https://groups.google.com/forum/?fromgroups=#!topic/android-developers/vgkXg1P8iBg}

\subsection{remoting przez serializację}
Po prostu serializujemy tak samo/

\subsection{portowanie rozwiązań w C na Androida?}
Axis. Może częściowe używanie go spod javy. W sumie można sportować też jakieś inne rzeczy. Np.\ pythonowe web service'y (pyro, twisted).

Sprawdzić Python Remote Objects (Pyro) na pythonie 2, 3 (też na warstwie skryptowej Androida). Porównać z Twistedem, napisać o próbach portowania wymaganych bibliotek w C na Androida. \url{http://pythonhosted.org/Pyro4/intro.html#performance}

sl4a, py4a, kompilacja na ubuntu z użyciem NDK i Cythona
distutils.core zamienić na setuptools w setup.py

\subsection{Zcentralizowane pseudo web servicy (albo nawet i nie)}
Też potrzebny serializator / deserializator + bindingi. To był ten pomysł, że to komp pinga serwer (Androida), żeby ten sobie pobrał rozkaz i to Android woła web service na kompie. Trzeba by było używać Ksoap albo innego ścierwa. Zobaczyć, czy to w ogóle miałoby sens. Czy tymi Ksoapami da się coś sensownie zrobić.

\subsection{Wybrane rozwiązanie}
Jakie i dlaczego?

Dlaczego nie Soap, bindingi itp.?

\chapter{Projekt systemu}
Tutaj cały czas teorie, ale już wiadomo na czym się skupić. Wiem, jaki chcę zrobić system, teraz muszę go zaprojektować.

Jakiej licencji użyję?

Call:
- id obiektu (0 dla tworzenia nowego, wtedy argumentem jest tym)
- id metody
- parametry

Response:
- czy sie udalo
- obiekt zwrotny, opis błędu przy wywołaniu zdalnej metody lub stacktrace z exceptiona, który wystąpił w metodzie

Id metody:
składa się z nazwy i aliasów jej parametrów.

Alias:
typy prymitywne - int, string, itp.
datacontract - sraka:\#ptaka.daka
lista - List
tablica - [int, [[int, [sraka:\#ptaka.daka, itp.

Tłumaczenie aliasów:
C\# tłumaczy klasy na aliasy, jak przetłumaczy dla jednej metody to dodaje to do słownika, żeby potem robić to od razu.
Java tłumaczy aliasy na nazwy klas (potem loaderem). Wiąże w słowniku id metody z obiektem metody. Może być metoda przyjmująca jakiś konkretny List, np. ArrayList, ale nie może mieć overloada przyjmującego inny List.
Kiedy czyścić te słowniki?

Loader:
Loaduje aliasy DataContractów, klasy javowe, klasy serwisów(?). Czyta sobie jary, szuka adnotacji

Typy danych i serwisy w javie są oznaczone namespaceami, odpowiadających im rzeczy z C\# (DataContracty i interfejsy)

Oddzielić abstrakcje od sposobu transportu. Wyróżnic transport streamowany (serializator dostaje strumień i na niego wali output, możemy tłumaczyć i wysyłać na raz) i nie (trzeba stworzyć całą wiadomość, wtedy wysłać).

Zrobić timeouty na łączenie do serwisu i na operacje. Poczytać więcej o TCP, zobaczyć, czy dobrze można nim sprawdzać, czy trzeba używać PINGa.

Serializujemy wszystkie publiczne pola/ propertiesy albo metody z get / set (to w Javie). Używać jakiś dostępnych już atrybutów do ręcznej konfiguracji wyboru serializowanych elementów.

Dodać objaśnienia metodyki, którą wytwarzam:
Robienie prototypów elementarnych funkcjonalności (to się nazywa Spike w Extreme Programming, bodajże i ma za zadanie właśnie sprawdzić czy coś się da zrobić oraz jakie elementy będzie musiało zawierać rozwiązanie), projekt, testy, implementacja. Powiedzieć o Test Driven Development i Extreme Programming.

Jak się decydowałem na licencję, narzędzia, repozytorium.
Założyłem repozytorium na GitHubie, którego znam. Jest sławny i wygodny w użyciu. Kod ma być publiczny, więc nie mam problemu. Wybrałem MIT license (sam przeczytałem licencje, a porównanie tutaj http://choosealicense.com/licenses/). Jest przeciwnikiem skomplikowanych przepisów, na które Apache (główny konkurent) zakrawa, a na patentach mi nie zależy (wątpię, żebym jakieś tu miał, poza tym w UE nie można patentować kodu, chyba). MIT jest proste, zapewnia wzmiankowanie mojego nazwiska i umożliwia używanie mojego kodu także w komercyjnych rozwiązaniach.

Unittesty wywoływania w obrębie jednej aplikacji z kilkoma wątkami - jako kanał komunikacji strumień w pamięci.

Na jakiś sprzęcie testuję.

\section{Specyfikacja wymagań systemowych}
Wymienić te wszystkie typy wymagań i wylistować.

reliable sessions (w sumie też by mi się przydał jakiś mechanizm, który umożliwi komunikację w niestabilnym środowisku Internetu)

\section{Przypadki użycia}

\section{Struktura projektu}
Diagramy warstwowe, komponentowe, klas.

\section{Schemat działanie projektu}
Schematy działania, to z liniami życia itp.


\chapter{Implementacja}
Jak mi wyszło, jak wrażenia? Co musiałem zmienić, co dopracować, co dookreślić? Są jakieś poprawki do projektu? (go samego nie zmieniać).

\section{Narzędzia}
Jakie repo, visuale, notepad++ itp.

\chapter{Eksperymenty}
Musi być lista drzew obiektów z różnymi normalnymi i ciężkimi przypadkami. Ta lista będzie używana do sprawdzania jak idzie serializacja, czy nie są tracone żadne informacje. Test polega na tym, że wysyłamy w jedną stronę z C\# (bo tam jest dobra informacja o typach) potem tamta strona to odczytuje, serializuje i~wysyła z~powrotem. Jak to, co wróciło jest takie samo, to test zaliczony.

Udokumentować jak zestawiałem testy, podpinałem debuggery, zbierałem wyniki.
Testy na Windowsie, Ubuntu i Androidzie

Jak benchmarkować serwisy? Są jakieś kryteria, benchmarki? Trochę o błędności benchmarkowania

Zrobić testy integracyjne w pythonie. Testy ze sleepami itd. maszyn zrobć przy pomocy automatyzacji Virtual Boxa.

\section{Porównanie funkcjonalności}
Będzie tu też bezpieczeństwo, wznawianie połączeń, radzenie sobie z obiążeniem. Takie główne funkcjonalności już były omawiane wcześniej.

\section{Porównanie wydajności}
Radzenie sobie z dużym obciążeniem, szybkość w różnych warunkach. Zużycie zasobów.

\section{Porównanie nakładu pracy programisty}


\chapter{Podsumowanie}
I co? Udało się zrobić system który robi to, co miał robić? Zrobi furorę na świecie i będę bogaty?

\backmatter

% lista rysunków
\listoffigures
% lista tabel
\listoftables

% rodzaj bibliografii
\bibliographystyle{plain}
% plik z wpisami bibliograficznymi
\bibliography{bibliografia}
\end{document}